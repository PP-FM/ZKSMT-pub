(set-option :produce-proofs true)
(set-option :proof-level lowlevel)
(set-logic QF_UFLIA)
(declare-fun SHRT_MAX () Int)
(declare-fun SHRT_MIN () Int)
(declare-fun a () Int)
(declare-fun b () Int)
(declare-fun err () Bool)
(declare-fun ret () Int)
(declare-fun f (Int) Int)
(assert (= SHRT_MAX 32767))
(assert (= SHRT_MIN (- 32768)))
(assert (= (f (- a)) (- (f a))))
(assert (= b (- a)))
(assert (or (not (or (< (f b) SHRT_MIN) (< SHRT_MAX (f b)))) err))
(assert (or (< (f b) SHRT_MIN) (< SHRT_MAX (f b)) (= ret (f b))))
(assert (not err))
(assert (< (f a) SHRT_MIN))

(check-sat)
(get-proof)
